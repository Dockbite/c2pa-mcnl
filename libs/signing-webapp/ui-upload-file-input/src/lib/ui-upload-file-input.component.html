<div class="flex flex-col items-center gap-5">
  <div class="flex flex-col items-center gap-0">
    <label [for]="inputId()" class="text-xl font-bold">
      {{ label() }}
      @if (required()) {
        <span class="text-red-600">*</span>
      }
    </label>
    @if (description()) {
      <p class="text-xs text-gray-700">{{ description() }}</p>
    }
  </div>

  <lib-shared-ui-file-upload
    [id]="inputId()"
    [acceptedMimeTypes]="acceptedMimeTypes()"
    [maxFileSizeBytes]="maxFileSizeBytes()"
    [formField]="control()"
    (uploadError)="uploadError.set($any($event))"
  />

  @if (uploadError()) {
    <div class="mt-4 p-4 bg-red-50 border border-red-200 rounded-lg">
      <div class="flex">
        <div class="flex-shrink-0">
          <svg
            class="h-5 w-5 text-red-400"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
            />
          </svg>
        </div>
        <div class="ml-3">
          <p class="text-sm text-red-700">{{ uploadError() }}</p>
        </div>
      </div>
    </div>
  }
</div>
